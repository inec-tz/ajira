<!DOCTYPE html>
<html lang="sw">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nafasi za Kazi - Tume ya Uchaguzi 2025</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1a4f8b;
            --secondary: #3c8dbc;
            --accent: #f39c12;
            --light: #f5f5f5;
            --dark: #333;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f0f4f8;
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 25px 0;
            text-align: center;
            border-radius: 0 0 10px 10px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .logo {
            font-size: 2.5rem;
            margin-right: 15px;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .subheading {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .application-container {
            background: white;
            border-radius: 10px;
            box-shadow: var(--shadow);
            overflow: hidden;
            margin-bottom: 30px;
            position: relative;
        }
        
        .progress-bar {
            display: flex;
            background: #e9ecef;
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
            margin: 20px;
        }
        
        .progress {
            height: 100%;
            background: var(--success);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .card-container {
            position: relative;
            min-height: 580px;
            perspective: 1000px;
        }
        
        .form-card {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 30px;
            background: white;
            border-radius: 8px;
            transform: rotateY(180deg);
            backface-visibility: hidden;
            transition: transform 0.8s;
            opacity: 0;
            z-index: 1;
            overflow-y: auto;
        }
        
        .form-card.active {
            transform: rotateY(0deg);
            opacity: 1;
            z-index: 2;
        }
        
        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .card-number {
            background: var(--primary);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }
        
        .card-title {
            font-size: 1.5rem;
            color: var(--primary);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(60, 141, 188, 0.2);
        }
        
        .btn-container {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
        }
        
        .btn-prev {
            background: #6c757d;
            color: white;
        }
        
        .btn-next {
            background: var(--primary);
            color: white;
        }
        
        .btn-submit {
            background: var(--success);
            color: white;
        }
        
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .btn i {
            margin: 0 5px;
        }
        
        .step-indicators {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        
        .step {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: #ddd;
            margin: 0 8px;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .step.active {
            background: var(--primary);
        }
        
        footer {
            text-align: center;
            padding: 20px;
            background: var(--dark);
            color: white;
            border-radius: 10px 10px 0 0;
            margin-top: 30px;
        }
        
        /* Review section styles */
        .review-item {
            margin-bottom: 15px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 5px;
            border-left: 4px solid var(--primary);
        }
        
        .review-label {
            font-weight: bold;
            color: var(--primary);
        }
        
        /* Loading animation */
        .loading-container {
            display: none;
            text-align: center;
            padding: 40px;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Verification section */
        .verification-container {
            display: none;
            padding: 30px;
            text-align: center;
        }
        
        .verification-box {
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 20px auto;
            max-width: 500px;
        }
        
        .captcha-images {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .captcha-img {
            border: 2px solid transparent;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            height: 120px;
            background-color: #eaeaea;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            position: relative;
        }
        
        .captcha-img.selected {
            border-color: var(--success);
            background-color: #e6f7ee;
        }
        
        .captcha-img.traffic-light {
            cursor: pointer;
        }
        
        .captcha-img:hover {
            transform: scale(1.05);
        }
        
        .selection-indicator {
            position: absolute;
            top: 5px;
            right: 5px;
            background: var(--success);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
        }
        
        .progress-container {
            margin: 20px 0;
        }
        
        .progress-title {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .progress-bar-vertical {
            height: 20px;
            background: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--success);
            width: 0%;
            transition: width 1s ease;
        }
        
        .multi-progress {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 30px 0;
        }
        
        .verification-header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .verification-header h2 {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .verification-instructions {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid var(--accent);
        }
        
        .selected-count {
            margin-top: 15px;
            font-weight: bold;
            color: var(--primary);
        }
        
        .verification-complete {
            display: none;
            background: #e6f7ee;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
            padding: 15px;
            margin-top: 20px;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .subheading {
                font-size: 1rem;
            }
            
            .form-card {
                padding: 20px;
            }
            
            .card-title {
                font-size: 1.3rem;
            }
            
            .btn-container {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .captcha-images {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .captcha-img {
                height: 100px;
                font-size: 30px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo-container">
               <a "https://www.inec.go.tz/"><img src="https://www.inec.go.tz/site/images/icon/apple-icon-57x57.png" alt="Tanzania emblem" class="mx-auto img-fluid" width="90"></a>
                <div>
                    <h1>TUME HURU YA TAIFA YA UCHAGUZI (INEC)</h1>
                    <div class="subheading">MFUMO WA MAOMBI YA AJIRA</div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="application-container">
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            
            <div class="step-indicators">
                <div class="step active" data-step="0"></div>
                <div class="step" data-step="1"></div>
                <div class="step" data-step="2"></div>
                <div class="step" data-step="3"></div>
            </div>
            
            <div class="card-container">
                <!-- Card 1: Personal Details -->
                <div class="form-card active">
                    <div class="card-header">
                        <div class="card-number">1</div>
                        <h2 class="card-title">Taarifa Binafsi</h2>
                    </div>
                    
                    <div class="form-group">
                        <label for="fullname">Jina Kamili</label>
                        <input type="text" id="fullname" placeholder="Andika jina lako kamili">
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Barua Pepe</label>
                        <input type="email" id="email" placeholder="ana@example.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Namba ya Simu</label>
                        <input type="tel" id="phone" placeholder="+255 ...">
                    </div>
                    
                    <div class="form-group">
                        <label for="dob">Tarehe ya Kuzaliwa</label>
                        <input type="date" id="dob">
                    </div>
                    
                    <div class="form-group">
                        <label for="gender">Jinsia</label>
                        <select id="gender">
                            <option value="">Chagua jinsia yako</option>
                            <option value="me">Me</option>
                            <option value="ke">Ke</option>
                        </select>
                    </div>
                    
                    <div class="btn-container">
                        <div></div>
                        <button class="btn btn-next" onclick="showNextCard(1)">Inafuatia <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
                
                <!-- Card 2: Education and Location -->
                <div class="form-card">
                    <div class="card-header">
                        <div class="card-number">2</div>
                        <h2 class="card-title">Elimu na Mahali</h2>
                    </div>
                    
                    <div class="form-group">
                        <label for="jobPosition">Nafasi ya Kazi</label>
                        <select id="jobPosition">
                            <option value="">Chagua nafasi ya kazi</option>
                            <option value="mkaguzi">Mkaguzi</option>
                            <option value="mratibu">Mratibu</option>
                            <option value="mhasibu">Mhasibu</option>
                            <option value="msimamizi">Msimamizi</option>
                            <option value="karani">Karani</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="education">Kiwango cha Elimu</label>
                        <select id="education">
                            <option value="">Chagua kiwango cha elimu</option>
                            <option value="phd">Shahada ya Uzamivu</option>
                            <option value="masters">Shahada ya Uzamili</option>
                            <option value="degree">Shahada ya Kwanza</option>
                            <option value="diploma">Stashahadi</option>
                            <option value="certificate">Stahili</option>
                            <option value="form4">Kidato cha Nne</option>
                            <option value="form6">Kidato cha Sita</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="district">Halmashauri / Wilaya Unakoishi</label>
                        <input type="text" id="district" placeholder="Andika halmashauri au wilaya unakoishi">
                    </div>
                    
                    <div class="form-group">
                        <label for="region">Mkoa Unakoishi</label>
                        <input type="text" id="region" placeholder="Andika mkoa unakoishi">
                    </div>
                    
                    <div class="btn-container">
                        <button class="btn btn-prev" onclick="showPrevCard(1)"><i class="fas fa-arrow-left"></i> Nyuma</button>
                        <button class="btn btn-next" onclick="showNextCard(2)">Inafuatia <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
                
                <!-- Card 3: Review Details -->
                <div class="form-card">
                    <div class="card-header">
                        <div class="card-number">3</div>
                        <h2 class="card-title">Hakiki Taarifa Zako</h2>
                    </div>
                    
                    <div id="reviewDetails">
                        <!-- Review content will be generated here -->
                    </div>
                    
                    <div class="btn-container">
                        <button class="btn btn-prev" onclick="showPrevCard(2)"><i class="fas fa-arrow-left"></i> Nyuma</button>
                        <button class="btn btn-next" onclick="submitForm()">Wasilisha Maombi <i class="fas fa-check"></i></button>
                    </div>
                </div>
                
                <!-- Card 4: Documents Upload -->
                <div class="form-card">
                    <div class="card-header">
                        <div class="card-number">4</div>
                        <h2 class="card-title">Viambatanisho</h2>
                    </div>
                    
                    <div class="form-group">
                        <label for="cv">Pakia CV yako (PDF pekee)</label>
                        <input type="file" id="cv" accept=".pdf">
                    </div>
                    
                    <div class="form-group">
                        <label for="certificates">Pakia Vitambulisho vyako (PDF au picha)</label>
                        <input type="file" id="certificates" accept=".pdf,.jpg,.jpeg,.png" multiple>
                    </div>
                    
                    <div class="form-group">
                        <label for="photo">Pakia Pasiporti ya Picha</label>
                        <input type="file" id="photo" accept=".jpg,.jpeg,.png">
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="agree">
                            Nimekubaliana na <a href="#">Sheria na Masharti</a> ya kutumia huduma hii
                        </label>
                    </div>
                    
                    <div class="btn-container">
                        <button class="btn btn-prev" onclick="showPrevCard(3)"><i class="fas fa-arrow-left"></i> Nyuma</button>
                        <button class="btn btn-submit" onclick="submitForm()">Wasilisha Maombi <i class="fas fa-check"></i></button>
                    </div>
                </div>
            </div>
            
            <!-- Loading Container -->
            <div class="loading-container" id="loadingContainer">
                <div class="spinner"></div>
                <h3>Subiri kidogo, maombi yako yanawasilishwa...</h3>
                
                <div class="multi-progress">
                    <div class="progress-container">
                        <div class="progress-title">
                            <span>Upakiaji wa Taarifa</span>
                            <span id="progressPercent1">0%</span>
                        </div>
                        <div class="progress-bar-vertical">
                            <div class="progress-fill" id="progressFill1"></div>
                        </div>
                    </div>
                    
                    <div class="progress-container">
                        <div class="progress-title">
                            <span>Ukaguzi wa Maudhui</span>
                            <span id="progressPercent2">0%</span>
                        </div>
                        <div class="progress-bar-vertical">
                            <div class="progress-fill" id="progressFill2"></div>
                        </div>
                    </div>
                    
                    <div class="progress-container">
                        <div class="progress-title">
                            <span>Uhakiki wa Mawasiliano</span>
                            <span id="progressPercent3">0%</span>
                        </div>
                        <div class="progress-bar-vertical">
                            <div class="progress-fill" id="progressFill3"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Verification Container -->
            <div class="verification-container" id="verificationContainer">
                <div class="verification-header">
                    <h2>Thibitisha kuwa wewe si roboti</h2>
                    <p>Chagua picha zote zinaonyesha taa za trafiki</p>
                </div>
                
                <div class="verification-instructions">
                    <p><strong>Maelekezo:</strong> Bofya kwenye picha zote zinazoonyesha taa za trafiki. Kila picha ya taa ya trafiki itafungua ukurasa mpya wa kuthibitisha.</p>
                </div>
                
                <div class="verification-box">
                    <div class="captcha-images">
                        <div class="captcha-img" onclick="handleImageClick(this, 'car')">🚗</div>
                        <div class="captcha-img traffic-light" onclick="handleImageClick(this, 'traffic-light')">🚦</div>
                        <div class="captcha-img" onclick="handleImageClick(this, 'tree')">🌳</div>
                        <div class="captcha-img traffic-light" onclick="handleImageClick(this, 'traffic-light')">🚥</div>
                        <div class="captcha-img" onclick="handleImageClick(this, 'building')">🏢</div>
                        <div class="captcha-img traffic-light" onclick="handleImageClick(this, 'traffic-light')">🚦</div>
                        <div class="captcha-img" onclick="handleImageClick(this, 'car')">🚘</div>
                        <div class="captcha-img traffic-light" onclick="handleImageClick(this, 'traffic-light')">🚦</div>
                        <div class="captcha-img" onclick="handleImageClick(this, 'bridge')">🌉</div>
                    </div>
                    
                    <div class="selected-count" id="selectedCount">
                        Umechagua: 0/4 taa za trafiki
                    </div>
                    
                    <div class="verification-complete" id="verificationComplete">
                        <i class="fas fa-check-circle" style="color: var(--success); font-size: 24px; margin-bottom: 10px;"></i>
                        <p>Umefanikiwa kuthibitisha kuwa wewe si roboti. Sasa unaweza kuwasilisha maombi yako.</p>
                    </div>
                </div>
                
                <div class="btn-container">
                    <button class="btn btn-submit" id="finalSubmitBtn" onclick="finalSubmit()" disabled>Wasilisha Maombi <i class="fas fa-check"></i></button>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>© 2025 Tume ya Uchaguzi Tanzania. Haki zote zimehifadhiwa.</p>
            <p>Simu: +255 22 123 4567 | Barua pepe: info@tumeuchaguzi.go.tz</p>
        </div>
    </footer>

    <script>
        let currentCard = 0;
        const totalCards = 4;
        let selectedTrafficLights = 0;
        const totalTrafficLights = 4;
        let verificationComplete = false;
        
        function updateProgressBar() {
            const progressPercentage = (currentCard / (totalCards - 1)) * 100;
            document.getElementById('progress').style.width = `${progressPercentage}%`;
        }
        
        function updateStepIndicators() {
            const steps = document.querySelectorAll('.step');
            steps.forEach((step, index) => {
                if (index === currentCard) {
                    step.classList.add('active');
                } else {
                    step.classList.remove('active');
                }
            });
        }
        
        function showNextCard(nextIndex) {
            if (nextIndex >= totalCards) return;
            
            document.querySelectorAll('.form-card')[currentCard].classList.remove('active');
            currentCard = nextIndex;
            document.querySelectorAll('.form-card')[currentCard].classList.add('active');
            
            // If moving to review card (card 3), generate the review
            if (currentCard === 2) {
                generateReview();
            }
            
            updateProgressBar();
            updateStepIndicators();
        }
        
        function showPrevCard(prevIndex) {
            if (prevIndex < 0) return;
            
            document.querySelectorAll('.form-card')[currentCard].classList.remove('active');
            currentCard = prevIndex;
            document.querySelectorAll('.form-card')[currentCard].classList.add('active');
            
            updateProgressBar();
            updateStepIndicators();
        }
        
        function generateReview() {
            const reviewContainer = document.getElementById('reviewDetails');
            reviewContainer.innerHTML = '';
            
            // Personal details
            const personalDetails = [
                { label: 'Jina Kamili', value: document.getElementById('fullname').value },
                { label: 'Barua Pepe', value: document.getElementById('email').value },
                { label: 'Namba ya Simu', value: document.getElementById('phone').value },
                { label: 'Tarehe ya Kuzaliwa', value: document.getElementById('dob').value },
                { label: 'Jinsia', value: document.getElementById('gender').value }
            ];
            
            // Education and location
            const educationDetails = [
                { label: 'Nafasi ya Kazi', value: document.getElementById('jobPosition').value },
                { label: 'Kiwango cha Elimu', value: document.getElementById('education').value },
                { label: 'Halmashauri/Wilaya', value: document.getElementById('district').value },
                { label: 'Mkoa', value: document.getElementById('region').value }
            ];
            
            // Create review sections
            const sections = [
                { title: 'Taarifa Binafsi', data: personalDetails },
                { title: 'Elimu na Mahali', data: educationDetails }
            ];
            
            sections.forEach(section => {
                const sectionTitle = document.createElement('h3');
                sectionTitle.style.marginTop = '20px';
                sectionTitle.style.color = 'var(--primary)';
                sectionTitle.textContent = section.title;
                reviewContainer.appendChild(sectionTitle);
                
                section.data.forEach(item => {
                    if (item.value) {
                        const reviewItem = document.createElement('div');
                        reviewItem.className = 'review-item';
                        
                        const label = document.createElement('div');
                        label.className = 'review-label';
                        label.textContent = item.label;
                        
                        const value = document.createElement('div');
                        value.textContent = item.value;
                        
                        reviewItem.appendChild(label);
                        reviewItem.appendChild(value);
                        reviewContainer.appendChild(reviewItem);
                    }
                });
            });
            
            const editNote = document.createElement('p');
            editNote.style.marginTop = '20px';
            editNote.style.fontStyle = 'italic';
            editNote.textContent = 'Ikiwa kuna makosa, tafadhali use "Nyuma" kurekebisha taarifa.';
            reviewContainer.appendChild(editNote);
        }
        
        function submitForm() {
            // Hide all form cards and progress indicators
            document.querySelector('.card-container').style.display = 'none';
            document.querySelector('.step-indicators').style.display = 'none';
            document.querySelector('.progress-bar').style.display = 'none';
            
            // Show loading container
            const loadingContainer = document.getElementById('loadingContainer');
            loadingContainer.style.display = 'block';
            
            // Simulate progress for three bars
            let progress1 = 0;
            let progress2 = 0;
            let progress3 = 0;
            
            const progressInterval1 = setInterval(() => {
                progress1 += 2;
                document.getElementById('progressFill1').style.width = `${progress1}%`;
                document.getElementById('progressPercent1').textContent = `${progress1}%`;
                
                if (progress1 >= 100) {
                    clearInterval(progressInterval1);
                    
                    // Start second progress bar
                    const progressInterval2 = setInterval(() => {
                        progress2 += 3;
                        document.getElementById('progressFill2').style.width = `${progress2}%`;
                        document.getElementById('progressPercent2').textContent = `${progress2}%`;
                        
                        if (progress2 >= 100) {
                            clearInterval(progressInterval2);
                            
                            // Start third progress bar
                            const progressInterval3 = setInterval(() => {
                                progress3 += 4;
                                document.getElementById('progressFill3').style.width = `${progress3}%`;
                                document.getElementById('progressPercent3').textContent = `${progress3}%`;
                                
                                if (progress3 >= 100) {
                                    clearInterval(progressInterval3);
                                    setTimeout(() => {
                                        loadingContainer.style.display = 'none';
                                        showVerification();
                                    }, 1000);
                                }
                            }, 100);
                        }
                    }, 100);
                }
            }, 100);
        }
        
        function showVerification() {
            document.getElementById('verificationContainer').style.display = 'block';
        }
        
        function handleImageClick(element, type) {
            if (type === 'traffic-light') {
                if (!element.classList.contains('selected')) {
                    element.classList.add('selected');
                    selectedTrafficLights++;
                    
                    // Add selection indicator
                    const indicator = document.createElement('div');
                    indicator.className = 'selection-indicator';
                    indicator.textContent = selectedTrafficLights;
                    element.appendChild(indicator);
                    
                    // Open mimihapa.com in a new tab
                    window.open('https://mimihapa.com', '_blank');
                    
                    // Update selected count
                    document.getElementById('selectedCount').textContent = 
                        `Umechagua: ${selectedTrafficLights}/${totalTrafficLights} taa za trafiki`;
                    
                    // Check if all traffic lights are selected
                    if (selectedTrafficLights >= totalTrafficLights) {
                        verificationComplete = true;
                        document.getElementById('verificationComplete').style.display = 'block';
                        document.getElementById('finalSubmitBtn').disabled = false;
                    }
                }
            } else {
                // For non-traffic light images, just toggle selection
                element.classList.toggle('selected');
            }
        }
        
        function finalSubmit() {
            if (verificationComplete) {
                alert('Maombi yako yamepokelewa kikamilifu. Tutawasiliana nawe kupitia anwani ya barua pepe uliyoitoa.');
                // In a real application, this would submit the form to a server
            } else {
                alert(`Tafadhali chagua taa zote za trafiki. Umechagua ${selectedTrafficLights} kati ya ${totalTrafficLights}.`);
            }
        }
        
        // Add click events to step indicators
        document.querySelectorAll('.step').forEach(step => {
            step.addEventListener('click', function() {
                const stepIndex = parseInt(this.getAttribute('data-step'));
                showNextCard(stepIndex);
            });
        });
    </script>
</body>
</html>